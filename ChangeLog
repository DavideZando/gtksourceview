2007-08-01  Paolo Borelli  <pborelli@katamail.com>

	* gtksourceview/language-specs/R.lang: port to the new format.

=== gtksourceview 1.90.3 ===

2007-08-01  Paolo Borelli  <pborelli@katamail.com>

	* NEWS:
	* README:
	* configure.ac:

	GtkSourceView 1.90.3 released.

2007-07-31  Paolo Maggi  <paolo@gnome.org>

	* gtksourceview/language-specs/classic.xml: changed description

2007-07-31  Paolo Borelli  <pborelli@katamail.com>

	* gtksourceview/language-specs/classic.xml: rename the "gvim"
	color scheme to "classic".

2007-07-31  Yevgen Muntyan  <muntyan@tamu.edu>

	* configure.ac: check for unistd.h explicitly.

	* gtksourceview/gtksourcelanguage-parser-2.c: store GError* right
	in the ParserState structure, so XMl parser can set and we will
	know about it. Fixes #460002.

	* gtksourceview/gtksourcelanguage.c
	(_gtk_source_language_define_language_styles): use const char* instead
	of char* to avoid compiler warnings.
	Removed gtk_source_language_set_property() which did nothing.

2007-07-30  Paolo Borelli  <pborelli@katamail.com>

	* gtksourceview/language-specs/tango.xml: fix it to work with
	the new styles. But it needs to be reworked, colors are too
	light.

2007-07-30  Paolo Borelli  <pborelli@katamail.com>

	* gtksourceview/gtksourcelanguage.c: map the old Data Type
	style to def:type.

2007-07-30  Paolo Borelli  <pborelli@katamail.com>

	* gtksourceview/language-specs/python.lang:
	* gtksourceview/language-specs/ruby.lang:
	* gtksourceview/language-specs/d.lang:
	* gtksourceview/language-specs/rpmspec.lang:

	Separate python builtins, normalize style names a bit,
	other minor bugfixes.

2007-07-29  Steve Frécinaux  <code@istique.net>

	* gtksourceview/language-specs/perl.lang: use newly defined def:
	styles.

2007-07-29  Paolo Borelli  <pborelli@katamail.com>

	* gtksourceview/language-specs/c.lang:
	* gtksourceview/language-specs/changelog.lang:
	* gtksourceview/language-specs/gvim.xml:
	* gtksourceview/language-specs/xml.lang:

	Minor style cleanups

2007-07-29  Paolo Borelli  <pborelli@katamail.com>

	* gtksourceview/language-specs/csharp.lang: highlight numbers.
	* gtksourceview/language-specs/vhdl.lang: port to new format.

2007-07-28  Paolo Borelli  <pborelli@katamail.com>

	* gtksourceview/language-specs/rpmspec.lang: port rpm spec
	file highlighting to the new format and rename it from
	spec.lang to rpmspec.lang.
	* gtksourceview/language-specs/def.lang: fix email regex,
	'+' is allowed.

2007-07-28  Paolo Borelli  <pborelli@katamail.com>

	* gtksourceview/language-specs/javascript.lang:
	* gtksourceview/language-specs/xml.lang:
	* gtksourceview/language-specs/lua.lang:
	* gtksourceview/language-specs/java.lang:

	Updated to take advantage of the new style schemes.

2007-07-27  Paolo Borelli  <pborelli@katamail.com>

	* gtksourceview/language-specs/c.lang:

	fix inlcude-file highlighting.

2007-07-27  Paolo Borelli  <pborelli@katamail.com>

	* gtksourceview/language-specs/changelog.lang:
	* gtksourceview/language-specs/kate.xml:

	Highlight bullet and make changelog hl in kate scheme look
	like the original.

2007-07-27  Paolo Borelli  <pborelli@katamail.com>

	* gtksourceview/language-specs/ada.lang:

	Misc improvements.

2007-07-27  Paolo Borelli  <pborelli@katamail.com>

	* gtksourceview/language-specs/*.lang:

	Replace all uses of def:special-value style.
	Remove the compat cruft in def.lang, since it is not needed
	anymore.

2007-07-27  Paolo Borelli  <pborelli@katamail.com>

	* gtksourceview/language-specs/*.lang:

	Replace all uses of def:escape style.

2007-07-27  Paolo Borelli  <pborelli@katamail.com>

	* gtksourceview/language-specs/*.lang:

	Replace all uses of def:data-type with the new def:type and
	remove def:data-type from def.lang.
	Note that this is a plain search and replace it doesn't fix
	some lang file from abusing the type style.

2007-07-27  Paolo Borelli  <pborelli@katamail.com>

	* gtksourceview/language-specs/def.lang:

	First cut at a big reorganization of default styles. Largely
	based on work by Paolo Maggi. Defaults styles are now
	divided in groups providing sensible defaults even with
	minimalistic style schemes.

	* gtksourceview/language-specs/gvim.xml:
	* gtksourceview/language-specs/kate.xml:

	Adapted to the above (tango still to do, but it will be
	probably be revisited once the style stuff settles)

2007-07-26  Paolo Borelli  <pborelli@katamail.com>

	* gtksourceview/gtksourcelanguage.[ch]: add getter/setter
	for the 'hidden' property. Patch by Jesse van den Kieboom.

2007-07-26  Paolo Borelli  <pborelli@katamail.com>

	* gtksourceview/language-specs/ruby.lang: properly detect all
	predefined variables.

2007-07-26  Paolo Borelli  <pborelli@katamail.com>

	* gtksourceview/language-specs/d.lang: port to the new format.

2007-07-26  Paolo Borelli  <pborelli@katamail.com>

	* gtksourceview/gtksourcebuffer.[ch]: add a function to
	force the highlighting of a not yet exposed region to use
	when printing.

2007-07-25  Paolo Borelli  <pborelli@katamail.com>

	* gtksourceview/language-specs/ruby.lang:: fix some number
	highlighting issues. Patch by Kristoffer Lundén, fixes
	bug #454122

2007-07-25  Paolo Borelli  <pborelli@katamail.com>

	* gtksourceview/language-specs/c.lang: split storage-class
	* gtksourceview/language-specs/changelog.lang:: highlight bullet
	* gtksourceview/language-specs/ruby.lang: split booleans and
	nil from the pseudovariables context and use def:special-value
	to highlight them.

2007-07-23  Paolo Borelli  <pborelli@katamail.com>

	* gtksourceview/gtksourcelanguage.c:
	* gtksourceview/gtksourcelanguage-parser-2.c:

	Fix compilation with MSVC, fixes bug #459576, patch by
	Elizabeth Smith.

2007-07-22  Paolo Maggi  <paolo@gnome.org>

	* gtksourceview/gtksourcecontextengine.c (set_tag_style): cleanup
	the code a bit and do not crash when info == NULL
	* gtksourceview/gtksourcestylescheme.c
	(_gtk_source_style_scheme_new_from_file): do not crash when loading
	a invalid style scheme

2007-07-19  Paolo Borelli  <pborelli@katamail.com>

	* docs/reference/gtksourceview-2.0-sections.txt:
	* gtksourceview/gtksourcestylemanager.c:
	* gtksourceview/gtksourcestylemanager.h:
	* gtksourceview/gtksourcelanguagemanager.c:

	Minor API documentation fixes.

2007-07-17  Paolo Maggi  <paolo@gnome.org>

	Implements new gtk_source_language_get_style_ids and
	gtk_source_language_get_style_name functions.

	* gtksourceview/gtksourcecontextengine.c (set_tag_style): check
	for dependencies cycles. Adapt the code to the fact the
	ENGINE_STYLES_MAP is now containing GtkSourceStyleInfo objects
	(create_tag): s/style_name/style_id
	* gtksourceview/gtksourcelanguage-parser-2.c (parse_style),
	(parser_state_new), (parser_state_destroy), (steal_styles_mapping),
	(_gtk_source_language_file_parse_version2): the styles_mapping hashtable
	now contains GtkSourceStyleInfo objects
	* gtksourceview/gtksourcelanguage-private.h: define GtkSourceStyleInfo
	and a couple of helper functions
	* gtksourceview/gtksourcelanguage.c (gtk_source_language_dispose),
	(gtk_source_language_finalize), (gtk_source_language_init),
	(_gtk_source_language_define_language_styles), (add_style_id),
	(get_style_ids), (force_styles),
	(gtk_source_language_get_style_ids), (get_style_info),
	(gtk_source_language_get_style_name), (_gtk_source_style_info_new),
	(_gtk_source_style_info_free): implements the two new functions

	* tests/test-widget.c (open_file): print the styles defined in the
	corresponding lang file when opening a file

2007-07-17  Paolo Maggi  <paolo@gnome.org>

	* gtksourceview/language-specs/testfiles.sh: generate file.spec

2007-07-17  Yevgen Muntyan  <muntyan@tamu.edu>

	Attempt to fix usage of def:preprocessor style. def:preprocessor
	stays in, and is supposed to be used for "preprocessor things".
	Too late now to fix it, should have done it in convert.py a year ago.
	Added def:special-value style for things like TRUE and FALSE in C.

	* gtksourceview/language-specs/def.lang:
	* gtksourceview/language-specs/sql.lang:
	* gtksourceview/language-specs/javascript.lang:
	* gtksourceview/language-specs/po.lang:
	* gtksourceview/language-specs/ini.lang:
	* gtksourceview/language-specs/python.lang:
	* gtksourceview/language-specs/c.lang:
	* gtksourceview/language-specs/scheme.lang:
	* gtksourceview/language-specs/texinfo.lang:
	* gtksourceview/language-specs/tango.xml:
	* gtksourceview/language-specs/gtkrc.lang:
	* gtksourceview/language-specs/gvim.xml:
	* gtksourceview/language-specs/css.lang:
	* gtksourceview/language-specs/perl.lang:
	* gtksourceview/language-specs/kate.xml:
	* gtksourceview/language-specs/java.lang:
	* gtksourceview/language-specs/octave.lang:
	See above.

	* gtksourceview/language-specs/pkgconfig.lang:
	Added comments.

	* gtksourceview/language-specs/testfiles.sh:
	A script which outputs bunch of files using different languages,
	to quick-test whether parsing/highlighting broke.

2007-07-17  Yevgen Muntyan  <muntyan@tamu.edu>

	* gtksourceview/gtksourcelanguage.c (_gtk_source_language_new_from_file),
	(gtk_source_language_dispose):
	* gtksourceview/gtksourcestylescheme.c (gtk_source_style_scheme_get_style):
	cast pointer to a pointer to a pointer, so gcc strict aliasing thing is
	fooled by implicit conversion from a pointer to a pointer to a pointer.

	* gtksourceview/gtksourcestylemanager.c:
	(build_reference_chain): use g_warning instead of g_message;
	(slist_to_strv): don't cast void* to char*;
	(gtk_source_style_manager_set_search_path): free priv->search_path after
	setting it, so it won't break on set_search_path(get_search_path()).

	* gtksourceview/gtksourcelanguagemanager.c:
	(gtk_source_language_manager_set_search_path): same thing for
	priv->search_path.

	* tests/test-widget.c (main): do not pass NULL to g_print.

2007-07-16  Paolo Maggi  <paolo@gnome.org>
	* gtksourceview/gtksourcestylemanager.c
	(gtk_source_style_manager_get_scheme_ids): use %NULL instead of NULL
	in API documentation

2007-07-16  Paolo Maggi  <paolo@gnome.org>

	* gtksourceview/gtksourcestylemanager.c
	(gtk_source_style_manager_append_search_path),
	(gtk_source_style_manager_prepend_search_path): fixed a problem when
	the default path is used.

2007-07-16  Paolo Maggi  <paolo@gnome.org>

	* gtksourceview/gtksourcemarker.[ch]: use const instead of
	G_CONST_RETURN

2007-07-16  Paolo Maggi  <paolo@gnome.org>

	GtkSourceStyleManager API revisited

	* gtksourceview/gtksourcelanguagemanager.c
	(gtk_source_language_manager_get_default): silent a gcc warning
	(gtk_source_language_manager_set_search_path): code cleanup
	 (ensure_languages): use the new _gtk_source_view_get_file_list
	signature

	* gtksourceview/gtksourcestylemanager.[ch]: almost rewritted to
	use the updated API.

	* gtksourceview/gtksourceview-utils.[ch] (build_file_listing): added
	a only_dirs parameter

	(_gtk_source_view_get_file_list): ditto

	* tests/test-scheme.xml: test scheme
	* tests/test-widget.c: print available style schemes at startup

2007-07-14  Steve Frécinaux  <code@istique.net>

	* gtksourceview/language-specs/perl.lang: fix special variable
	handling in patterns, and recognize // after an operator (bug 456702).

2007-07-13  Paolo Borelli  <pborelli@katamail.com>

	* gtksourceview/gtksourcestylescheme.[ch]: add a filename
	property and the relative getter.

2007-07-13  Yevgen Muntyan  <muntyan@tamu.edu>

	* gtksourceview/gtksourcecontextengine.c:
	Ignore styles in all child contexts when use-style="no" is used.
	DefinitionChild.override_style_deep, Context.ignore_children_style:
	new struct members;
	(context_new): new argument, ignore_children_style;
	Context.ignore_children_style is propagated from parent context if not
	set explicitely.
	(_gtk_source_context_data_finish_parse): do not require error
	argument to be non-NULL.

	* gtksourceview/gtksourceview/gtksourcelanguage-parser-1.c:
	(_gtk_source_language_file_parse_version1): call
	_gtk_source_context_data_finish_parse(), this unbreaks loading old lang
	files.

	* gtksourceview/language-specs/check.sh: use a list of version-1 files,
	and check the rest.

2007-07-13  Steve Frécinaux  <code@istique.net>

	* gtksourceview/language-specs/perl.lang: fix highlighting of
	<<HEREDOC; (bug #456436). Patch by Eric Norige.

2007-07-12  Steve Frécinaux  <code@istique.net>

	* gtksourceview/language-specs/perl.lang: new lang file, much more
	complete than the old one, designed to stick as closely as possible to
	what /usr/bin/perl does.:
	 - pattern highlighting
	 - heredoc
	 - POD
	 - ...

2007-07-12  Paolo Borelli  <pborelli@katamail.com>

	* gtksourceview/gtksourceview-utils.c: look in the correct dir
	for legacy lang files.

2007-07-10  Yevgen Muntyan  <muntyan@tamu.edu>

	* gtksourceview/gtksourcecontextengine.c (regex_new), (regex_resolve):
	* gtksourceview/gtksourcelanguage-parser-2.c (expand_regex_vars),
	(expand_regex_delimiters), (expand_regex):
	Use static variables for often used regexes instead of using
	g_regex_match_simple().
	Use G_REGEX_NEWLINE_LF with all regexes to workaround bug #455640.

	* gtksourceview/language-specs/changelog.lang:
	parse little more dates, do not break when empty lines are not actually
	empty but contain whitespace.

2007-07-10  Paolo Borelli  <pborelli@katamail.com>

	* gtksourceview/gtksourcestylescheme.c: add description getter.

2007-07-09  Yevgen Muntyan  <muntyan@tamu.edu>

	* docs/reference/tmpl/stylescheme.sgml:
	document "selection" and "selection-unfocused" styles.

	* gtksourceview/language-specs/c.lang:
	do not highlight "#if0" as "#if 0".

2007-07-06  Paolo Borelli  <pborelli@katamail.com>

	* docs/reference/language-reference.sgml: lang format
	specification updates by thelema@swbell.net.

2007-07-05  Yevgen Muntyan  <muntyan@tamu.edu>

	* gtksourceview/language-specs/testdark.xml:
	* gtksourceview/gtksourcestylescheme.c: renamed "text-selected"
	to "selection", and added "selection-unfocused".

	* gtksourceview/language-specs/lua.lang:
	removed <!DOCTYPE language SYSTEM "language.dtd"> bit.

2007-07-05  Paolo Borelli  <pborelli@katamail.com>

	* gtksourceview/language-specs/ruby.lang: many improvements
	by Kristoffer Lundén. Bug #419381.

=== gtksourceview 1.90.2 ===

2007-07-03  Paolo Borelli  <pborelli@katamail.com>

	* NEWS:
	* README:
	* configure.ac:

	GtkSourceView 1.90.2 released.

2007-07-03  Paolo Borelli  <pborelli@katamail.com>

	* acinclude.m4: glib 2.13.6 is good enough for gregex.

2007-07-03  Paolo Borelli  <pborelli@katamail.com>

	* gtksourceview/language-specs/haddock.lang:
	* gtksourceview/language-specs/haskell.lang:
	* gtksourceview/language-specs/haskell-literate.lang:

	Awesome haskell support by Duncan Coutts. Bug #453278

2007-07-03  Yevgen Muntyan  <muntyan@tamu.edu>

	* gtksourceview/language-specs/Makefile.am: run check.sh on make check.
	* gtksourceview/language-specs/check.sh: made it work in make check,
	removed testdark.xml.

	* po/POTFILES.in:
	* po/POTFILES.skip: moved testdark.xml and gregex.c to POTFILES.skip,
	hopefully nobody will add those into POTFILES.in again.

2007-07-03  Paolo Borelli  <pborelli@katamail.com>

	* gtksourceview/language-specs/tango.xml: first cut of a
	tango style scheme, contributed by Michael Monreal.

2007-07-03  Paolo Borelli  <pborelli@katamail.com>

	* gtksourceview/language-specs/scheme.lang: escape " in strings
	* gtksourceview/language-specs/ocl.lang: New, contributed by
	Mario Carrión. Bug #345911.

2007-07-03  Paolo Borelli  <pborelli@katamail.com>

	* gtksourceview/gtksourceview.c:
	* gtksourceview/gtksourceview.h:
	* tests/test-widget.c:

	Rename smart-home end enum to be consistent with other constants
	and to make python bindings happy.

2007-07-03  Yevgen Muntyan  <muntyan@tamu.edu>

	* gtksourceview/gtksourcestylescheme.c (_gtk_source_style_scheme_new_from_file):
	do not leak xml.

2007-06-29  Paolo Borelli  <pborelli@katamail.com>

	* gtksourceview/language-specs/ruby.lang: do not detect :foo
	inside ::foo a symbol and other tweaks.

	* gtksourceview/language-specs/java.lang: do not use Others
	style.

2007-06-28  Yevgen Muntyan  <muntyan@tamu.edu>

	* gtksourceview/gtksourcelanguage-parser-2.c (handle_define_regex_element):
	expand patterns in define-regex elements.
	(handle_context_element): treat empty contexts as contexts with match="$^".

	* gtksourceview/language-specs/language2.rng:
	allow empty contexts.

	* gtksourceview/language-specs/check.sh: added lua.lang, made it look
	at extension of files passed to it on command line.

	* gtksourceview/language-specs/changelog.lang: fancier date matching.

2007-06-28  Paolo Borelli  <pborelli@katamail.com>

	* gtksourceview/language-specs/gtk-doc.lang:
	* gtksourceview/language-specs/gvim.xml:
	* gtksourceview/language-specs/kate.xml:
	* gtksourceview/language-specs/def.lang:

	Better names for the comments with inline docs sections.

2007-06-28  Paolo Borelli  <pborelli@katamail.com>

	* gtksourceview/language-specs/javascript.lang:
	* gtksourceview/language-specs/c.lang:
	* gtksourceview/language-specs/gtk-doc.lang:
	* gtksourceview/language-specs/gvim.xml:
	* gtksourceview/language-specs/kate.xml:
	* gtksourceview/language-specs/java.lang:
	* gtksourceview/language-specs/ada.lang:
	* gtksourceview/language-specs/def.lang:

	Remove def:specials since it is redundant with def:error (it
	was used for future reserved keywords), add def:inline-docs
	and modify themes to use it.

2007-06-28  Paolo Borelli  <pborelli@katamail.com>

	* gtksourceview/language-specs/ada.lang: misc improvements
	by thelema@swbell.net. Bug #451325.

2007-06-27  Yevgen Muntyan  <muntyan@tamu.edu>

	* gtksourceview/language-specs/sh.lang: parse (...), so ')' isn't
	highlighted as mismatched parenthesis in m4.
	* gtksourceview/language-specs/m4.lang: more autoconf macros.

2007-06-27  Yevgen Muntyan  <muntyan@tamu.edu>

	* docs/reference/*: renamed gtk-doc package to gtksourceview-2.0.

2007-06-27  Yevgen Muntyan  <muntyan@tamu.edu>

	Made it possible to replace contexts: <replace id="what" ref="replace-with">.
	<context ref="foo" original="true"/> refers to the original context.

	* gtksourceview/language-specs/language2.rng: added new tag and attribute.
	* gtksourceview/language-specs/m4.lang: use it here.

	* gtksourceview/gtksourcecontextengine.h:
	* gtksourceview/gtksourcecontextengine.c:
	* gtksourceview/gtksourcelanguage-parser-2.c:
	above changes.

2007-06-27  Yevgen Muntyan  <muntyan@tamu.edu>

	* gtksourceview/language-specs/m4.lang: added AC_LANG, AC_LINK_IFELSE,
	and AC_LANG_OBJC.
	* gtksourceview/language-specs/check.sh: added awk.lang.

	* gtksourceview/gtksourcestylemanager.h:
	* gtksourceview/gtksourcestylemanager.c (gtk_source_style_manager_list_schemes):
	return pointer to internal list instead of a copy.

2007-06-26  Yevgen Muntyan  <muntyan@tamu.edu>

	* docs/reference/tmpl/*: updated GtkSourceStyleScheme documentation.

2007-06-26  Yevgen Muntyan  <muntyan@tamu.edu>

	* gtksourceview/language-specs/objc.lang: little more Objective-C stuff.

2007-06-26  Yevgen Muntyan  <muntyan@tamu.edu>

	GtkSourceStyleScheme stuff:
	It's possible to name colors in style scheme files and use those
	names instead of #RRGGBB values; to use X color names, they should
	be prefixed with #, e.g. #DarkRed.
	Style scheme files now carry mandatory version attribute.
	gtk_source_style_scheme_get_style() no longer returns new object,
	old code which unref's return value will crash.

	* gtksourceview/language-specs/gvim.xml:
	* gtksourceview/language-specs/kate.xml:
	* gtksourceview/language-specs/styles.rng:
	* gtksourceview/language-specs/testdark.xml:
	Updated.

	* gtksourceview/gtksourcebuffer.c:
	* gtksourceview/gtksourcecontextengine.c:
	Do not unref style returned from style scheme.

	* gtksourceview/gtksourcestyle-private.h:
	* gtksourceview/gtksourcestyle.h:
	* gtksourceview/gtksourcestyle.c:
	Made GtkSourceStyle CONSTRUCT_ONLY; removed gtk_source_style_new()
	which doesn't do much good after that.

	* gtksourceview/gtksourcestylescheme.h:
	* gtksourceview/gtksourcestylescheme.c:
	Implemented above stuff; removed gtk_source_style_scheme_set_style()
	until it's clear what it should do with regard to named colors.

2007-06-26  Paolo Borelli  <pborelli@katamail.com>

	* gtksourceview/language-specs/awk.lang: add.
	* gtksourceview/language-specs/html.lang: fix comments
	highlighting and other minor things.
	* gtksourceview/language-specs/gvim.xml: add style for
	latex math mode
	* gtksourceview/language-specs/lua.lang: remove leftover
	context.

2007-06-25  Paolo Borelli  <pborelli@katamail.com>

	* gtksourceview/gtksourcelanguage-parser-2.c:
	* gtksourceview/language-specs/html.lang:
	* gtksourceview/language-specs/language2.rng:
	* gtksourceview/language-specs/def.lang:

	Use case-sensitive="false" instead of case-insensitive="true".
	It makes more sense.

2007-06-24  Yevgen Muntyan  <muntyan@tamu.edu>

	* gtksourceview/language-specs/objc.lang: oops, forgot
	to test it!

2007-06-24  Yevgen Muntyan  <muntyan@tamu.edu>

	* gtksourceview/language-specs/cpp.lang: forgot to remove
	headers globs and mime types from here.

2007-06-24  Yevgen Muntyan  <muntyan@tamu.edu>

	Objective-C highlighting. Added chdr.lang to use specifically
	with C/C++/ObjC headers, since C++ won't do anymore.

	* gtksourceview/language-specs/objc.lang: actual definitions.
	* gtksourceview/language-specs/chdr.lang: C headers highlighting.
	* gtksourceview/language-specs/cpp.lang: added a context to
	include from C headers.

	* gtksourceview/language-specs/check.sh: updated.
	* gtksourceview/language-specs/Makefile.am: added those files.

2007-06-20  Yevgen Muntyan  <muntyan@tamu.edu>

	* gtksourceview/language-specs/css.lang:
	* gtksourceview/language-specs/javascript.lang:
	* gtksourceview/language-specs/makefile.lang:
	LGPL'ed.

	* gtksourceview/language-specs/styles.rng: updated.

	* gtksourceview/gtksourcestylescheme.c: removed ParserState struct
	left from old parser.

2007-06-20  Yevgen Muntyan  <muntyan@tamu.edu>

	* gtksourceview/language-specs/csharp.lang:
	* gtksourceview/language-specs/desktop.lang:
	LGPL'ed.

2007-06-20  Yevgen Muntyan  <muntyan@tamu.edu>

	Removed leftovers (broken) of /regex/opts syntax in lang files;
	removed dot-match-all (doing nothing) regex option. Made
	default-regex-options element use attributes instead of content like "xi".

	* gtksourceview/gtksourcelanguage-parser-2.c: above changes: do not
	parse dot-match-all; handle new default-regex-options element format;
	do not strip slashes from patterns.

	* gtksourceview/language-specs/language2.rng:
	new default-regex-options format; removed dot-match-all.

	* gtksourceview/language-specs/c.lang:
	* gtksourceview/language-specs/convert.py:
	* gtksourceview/language-specs/csharp.lang:
	* gtksourceview/language-specs/css.lang:
	* gtksourceview/language-specs/gtk-doc.lang:
	* gtksourceview/language-specs/idl.lang:
	* gtksourceview/language-specs/java.lang:
	* gtksourceview/language-specs/javascript.lang:
	* gtksourceview/language-specs/pascal.lang:
	* gtksourceview/language-specs/php.lang:
	* gtksourceview/language-specs/scheme.lang:
	* gtksourceview/language-specs/sql.lang:
	* gtksourceview/language-specs/texinfo.lang:
	* gtksourceview/language-specs/verilog.lang:
	* gtksourceview/language-specs/xml.lang:
	Do not escape slashes.

	* gtksourceview/language-specs/html.lang:
	* gtksourceview/language-specs/latex.lang:
	Do not use /pattern/opts syntax.

2007-06-20  Yevgen Muntyan  <muntyan@tamu.edu>

	* gtksourceview/gtksourceview-i18n.c (_gtksourceview_gettext):
	added "translator-credits" string.
	* po/POTFILES.in: added gtksourcestyle.c and gtksourceview-i18n.c.

2007-06-19  Yevgen Muntyan  <muntyan@tamu.edu>

	The library is LGPL now.

	* gtksourceview/gtksourcebuffer.c:
	* gtksourceview/gtksourcebuffer.h:
	* gtksourceview/gtksourceview.h:
	* gtksourceview/language-specs/boo.lang:
	LGPL'ed.

	* README: updated to say that the library is LGPL.

2007-06-19  Yevgen Muntyan  <muntyan@tamu.edu>

	* gtksourceview/gtksourcebuffer.c:
	* gtksourceview/gtksourcebuffer.h:
	removed GtkSourceBuffer.marker_updated virtual function too,
	added extra padding in GtkSourceBufferClass structure.

	* gtksourceview/language-specs/tcl.lang:
	LGPL'ed.

2007-06-19  Paolo Borelli  <pborelli@katamail.com>

	* gtksourceview/language-specs/lua.lang: convert to new
	format and misc improvements. Patch by thelema@swbell.net.
	Fixes bug #448517.

2007-06-19  Yevgen Muntyan  <muntyan@tamu.edu>

	* gtksourceview/gtksourcebuffer.c:
	* gtksourceview/gtksourcebuffer.h:
	removed GtkSourceBuffer.highlight_updated virtual function.

2007-06-18  Yevgen Muntyan  <muntyan@tamu.edu>

	* gtksourceview/language-specs/java.lang: LGPL'ed.

	* gtksourceview/Makefile.am: do not distribute gtksourcetypebuiltins.*,
	like gtksourcemarshal.*.

=== gtksourceview 1.90.1 ===

2007-06-19  Paolo Borelli  <pborelli@katamail.com>

	* NEWS:
	* README:
	* configure.ac:

	GtkSourceView 1.90.1 released.

2007-06-18  Paolo Borelli  <pborelli@katamail.com>

	* gtksourceview/language-specs/sh.lang:	LGPL'ed.

2007-06-18  Yevgen Muntyan  <muntyan@tamu.edu>

	* gtksourceview/language-specs/sql.lang:
	* gtksourceview/language-specs/docbook.lang:
	* gtksourceview/language-specs/perl.lang:
	LGPL'ed.

2007-06-18  Yevgen Muntyan  <muntyan@tamu.edu>

	* gtksourceview/gtksourcestylescheme.c (update_cursor_colors): don't
	confuse primary and secondary.

2007-06-18  Yevgen Muntyan  <muntyan@tamu.edu>

	Made GtkSourceStyle a GObject, with properties for text attributes,
	similar to GtkTextTag;
	made GtkSourceStyle keep colors as strings interned with g_intern_string,
	in order not to waste memory;
	style schemes use background attribute of sourcestyle for current line
	color now.

	* gtksourceview/gtksourcestyle.h:
	* gtksourceview/gtksourcestyle.c:
	implemented above changes.
	* gtksourceview/gtksourcestyle-private.h: new file to keep GtkSourceStyle
	structure.

	* gtksourceview/Makefile.am: added gtksourcestyle-private.h; made
	gtksourceview-typebuiltins.[ch] build in builddir, to make distcheck
	very happy.

	* gtksourceview/gtksourcestylescheme.h:
	* gtksourceview/gtksourcestylescheme.c:
	* gtksourceview/gtksourcecontextengine.c:
	* gtksourceview/gtksourcebuffer.c:
	updated for new GtkSourceStyle API.

	* docs/reference/gtksourceview-sections.txt:
	* docs/reference/tmpl/style.sgml:
	* docs/reference/tmpl/stylescheme.sgml:
	* docs/reference/tmpl/view.sgml:
	updated.

	* gtksourceview/language-specs/testdark.styles:
	* gtksourceview/language-specs/testdark.xml:
	renamed testdark.styles to testdark.xml.

	* gtksourceview/language-specs/kate.xml: use correct attribute for current
	line color.

2007-06-18  Yevgen Muntyan  <muntyan@tamu.edu>

	* po/mg.po:
	* po/bs.po:
	* po/cs.po:
	* po/ms.po:
	* po/rw.po:
	* po/bn.po:
	* po/hr.po:
	* po/mn.po:
	* po/az.po:
	* po/mr.po:
	* po/be.po:
	* po/ga.po:
	* po/he.po:
	* po/zh_CN.po:
	* po/ru.po:
	* po/id.po:

	removed fuzzy translations.

2007-06-18  Paolo Borelli  <pborelli@katamail.com>

	* gtksourceview/gtksourcelanguage.h:
	* gtksourceview/gtksourceview.h:

	add some ABI padding.

2007-06-17  Yevgen Muntyan  <muntyan@tamu.edu>

	Added 'author' and 'description' tags to style scheme files.
	Renamed style scheme files from "*.styles" to "*.xml" to make
	intltool happy.

	* gtksourceview/gtksourcestylescheme.c: parse new tags; use libxml
	parser instead of GMarkup.
	* gtksourceview/language-specs/gvim.styles:
	* gtksourceview/language-specs/gvim.xml:
	* gtksourceview/language-specs/kate.styles:
	* gtksourceview/language-specs/kate.xml: renamed and added new tags.
	* gtksourceview/language-specs/check.sh:
	* gtksourceview/language-specs/Makefile.am: renamed scheme files.
	* gtksourceview/gtksourcestylemanager.c: look for "*.xml" files now.

	* gtksourceview/gtksourcelanguagemanager.c: little bit of docs.

	* po/POTFILES.in: removed gtksourceprintjob.c and eggregex.c, added
	style scheme files.

2007-06-17  Yevgen Muntyan  <muntyan@tamu.edu>

	Continuing great relicensing.

	* README: updated the paragraph about licenses.

	* gtksourceview/language-specs/sql.lang:
	* gtksourceview/language-specs/dpatch.lang:
	* gtksourceview/language-specs/javascript.lang:
	* gtksourceview/language-specs/diff.lang:
	* gtksourceview/language-specs/dtd.lang:
	* gtksourceview/language-specs/po.lang:
	* gtksourceview/language-specs/ini.lang:
	* gtksourceview/language-specs/docbook.lang:
	* gtksourceview/language-specs/ruby.lang:
	* gtksourceview/language-specs/python.lang:
	* gtksourceview/language-specs/c.lang:
	* gtksourceview/language-specs/kate.styles:
	* gtksourceview/language-specs/php.lang:
	* gtksourceview/language-specs/gtk-doc.lang:
	* gtksourceview/language-specs/spec.lang:
	* gtksourceview/language-specs/scheme.lang:
	* gtksourceview/language-specs/libtool.lang:
	* gtksourceview/language-specs/pkgconfig.lang:
	* gtksourceview/language-specs/verilog.lang:
	* gtksourceview/language-specs/desktop.lang:
	* gtksourceview/language-specs/texinfo.lang:
	* gtksourceview/language-specs/latex.lang:
	* gtksourceview/language-specs/vbnet.lang:
	* gtksourceview/language-specs/m4.lang:
	* gtksourceview/language-specs/cpp.lang:
	* gtksourceview/language-specs/d.lang:
	* gtksourceview/language-specs/haskell.lang:
	* gtksourceview/language-specs/changelog.lang:
	* gtksourceview/language-specs/nemerle.lang:
	* gtksourceview/language-specs/language.rng:
	* gtksourceview/language-specs/pascal.lang:
	* gtksourceview/language-specs/gvim.styles:
	* gtksourceview/language-specs/html.lang:
	* gtksourceview/language-specs/gtkrc.lang:
	* gtksourceview/language-specs/fortran.lang:
	* gtksourceview/language-specs/makefile.lang:
	* gtksourceview/language-specs/csharp.lang:
	* gtksourceview/language-specs/tcl.lang:
	* gtksourceview/language-specs/css.lang:
	* gtksourceview/language-specs/ocaml.lang:
	* gtksourceview/language-specs/xml.lang:
	* gtksourceview/language-specs/R.lang:
	* gtksourceview/language-specs/perl.lang:
	* gtksourceview/language-specs/msil.lang:
	* gtksourceview/language-specs/gap.lang:
	* gtksourceview/language-specs/idl.lang:
	* gtksourceview/language-specs/sh.lang:
	* gtksourceview/language-specs/language2.rng:
	* gtksourceview/language-specs/language.dtd:
	* gtksourceview/language-specs/yacc.lang:
	* gtksourceview/language-specs/boo.lang:
	* gtksourceview/language-specs/octave.lang:
	* gtksourceview/language-specs/lua.lang:
	* gtksourceview/language-specs/java.lang:
	* gtksourceview/language-specs/ada.lang:
	* gtksourceview/language-specs/styles.rng:
	* gtksourceview/language-specs/vhdl.lang:
	* gtksourceview/language-specs/def.lang:

	Added authors, contributors and license texts.

2007-06-17  Yevgen Muntyan  <muntyan@tamu.edu>

	Beginning of great relicensing.

	* README: added a paragraph about licenses.
	* COPYING.lib, Makefile.am: added COPYING.lib with LGPL text.

	* gtksourceview/gtksourcecontextengine.c,
	gtksourceview/gtksourceengine.h,
	gtksourceview/gtksourcecontextengine.h,
	gtksourceview/gtksourcestylescheme.c,
	gtksourceview/gtksourcestylescheme.h,
	gtksourceview/gtktextregion.c,
	gtksourceview/gtksourceview-utils.c,
	gtksourceview/gtktextregion.h,
	gtksourceview/gtksourceview-utils.h,
	gtksourceview/gtksourceview-i18n.c,
	gtksourceview/gtksourceview-i18n.h,
	gtksourceview/gtksourceundomanager.c,
	gtksourceview/gtksourceundomanager.h,
	gtksourceview/gtksourceengine.c:

	Changed license in headers to LGPL.

2007-06-11  Yevgen Muntyan  <muntyan@tamu.edu>

	* gtksourceview/gtksourcebuffer.c: made "highlight" property
	TRUE by default; (gtk_source_buffer_init): use default scheme;
	(gtk_source_buffer_dispose), (gtk_source_buffer_finalize): moved
	style scheme destroying to dispose().
	* gtksourceview/gtksourcelanguagemanager.h:
	* gtksourceview/gtksourcelanguagemanager.c:
	new function gtk_source_language_manager_get_default().
	* gtksourceview/gtksourcestylemanager.h:
	* gtksourceview/gtksourcestylemanager.c:
	new function gtk_source_style_manager_get_default();
	(gtk_source_style_manager_reload): removed stuff related to
	default scheme (it didn't actually work)
	* gtksourceview/gtksourcestylescheme.h:
	* gtksourceview/gtksourcestylescheme.c:
	renamed _gtk_source_style_scheme_default_new (didn't do anything)
	to _gtk_source_style_scheme_get_default (returns default style scheme now,
	using default style manager instance).
	* gtksourceview/gtksourceview.c (gtk_source_view_realize),
	(gtk_source_view_set_style_scheme): do not apply style scheme until the
	widget is realized.
	* tests/test-widget.c: use new api, no more g_object_set_data (buffer, "lang-manager").

2007-06-10  Paolo Borelli  <pborelli@katamail.com>

	* gtksourceview/gtksourcelanguage-parser-2.c: avoid using
	unitialized lang_id variable in the GError message.

2007-06-09  Yevgen Muntyan  <muntyan@tamu.edu>

	* docs/reference/gtksourceview-sections.txt:
	* docs/reference/tmpl/languagemanager.sgml:
	* docs/reference/tmpl/style.sgml:
	* docs/reference/tmpl/gtksourceview-unused.sgml:
	* docs/reference/tmpl/language.sgml:
	* docs/reference/tmpl/stylescheme.sgml:
	* docs/reference/tmpl/stylemanager.sgml:
	* gtksourceview/gtksourcestyle.c:

	Little more docs.

2007-06-09  Yevgen Muntyan  <muntyan@tamu.edu>

	* gtksourceview/gtksourcelanguage.c: (_gtk_source_language_new_from_file):
	add weak reference to the language manager; (gtk_source_language_dispose):
	drop it here; (_gtk_source_language_create_engine): fail if language
	manager died.

2007-06-08  Yevgen Muntyan  <muntyan@tamu.edu>

	* gtksourceview/gtksourcestylescheme.c: Added secondary-cursor
	and line-numbers styles; made cursor-color styles work in gtk < 2.11.3
	using widget name and rc string trick.
	* docs/reference/tmpl/stylescheme.sgml: documented new styles.
	* gtksourceview/language-specs/testdark.styles: test theme, with black
	background and yellow line numbers.

2007-06-08  Yevgen Muntyan  <muntyan@tamu.edu>

	* gtksourceview/language-specs/pkgconfig.lang: highlight variables
	containing dot (e.g. "Requires.private").

2007-06-05  Yevgen Muntyan  <muntyan@tamu.edu>

	* docs/reference/tmpl/stylescheme.sgml: added some docs about style
	scheme files.
	* gtksourceview/regex/glib/gregex.c: synced with Glib.
	* gtksourceview/gtksourcelanguagemanager.c (gtk_source_language_manager_init):
	do not allocate (and leak) GtkSourceLanguageManagerPrivate structure.

2007-06-02  Paolo Borelli  <pborelli@katamail.com>

	* gtksourceview/language-specs/ocaml.lang: Port the ocaml.lang
	file to the new syntax. Patch by thelema@swbell.net.

2007-06-02  Paolo Borelli  <pborelli@katamail.com>

	* gtksourceview/language-specs/perl.lang: highlight operators.
	Bug #403915.

2007-06-02  Yevgen Muntyan  <muntyan@tamu.edu>

	* gtksourceview/regex/glib/gregex.c: newest patched gregex.c, fixes
	here-doc highlighting in shell files.

2007-05-30  Yevgen Muntyan  <muntyan@tamu.edu>

	* gtksourceview/regex/glib/gregex.c,
	gtksourceview/regex/glib/gregex-real.h: synced with glib.
	* gtksourceview/Makefile.am: made it work with system pcre and with
	glib from svn.
	* gtksourceview/gtksourcelanguage-parser-2.c: updated for changed
	GRegex API.

2007-05-30  Yevgen Muntyan  <muntyan@tamu.edu>

	* gtksourceview/language-specs/gtkrc.lang: added line-comment attribute.

	* gtksourceview/libegg: removed
	* gtksourceview/regex: new folders, pcre and gregex.
	* configure.in, acinclude.m4,
	gtksourceview/Makefile.am,
	gtksourceview/gtksourcecontextengine.c,
	gtksourceview/gtksourcelanguage-parser-2.c:

	Ported code from EggRegex to GRegex, updated pcre to verion 7.0.
	pcre now lives in gtksourceview/regex/pcre/; gregex is in gtksourceview/regex/glib,
	so good #include <glib/gregex.h> works.

2007-05-28  Yevgen Muntyan  <muntyan@tamu.edu>

	* gtksourceview/language-specs/def.lang: made highlighting inet
	address at line end work.

2007-05-27  Yevgen Muntyan  <muntyan@tamu.edu>

	* gtksourceview/language-specs/language2.rng: allow "translation-domain"
	language attribute.
	* gtksourceview/gtksourcelanguage-private.h:
	* gtksourceview/gtksourcelanguage.c (_gtk_source_language_translate_string):
	new function to translate strings in lang-file domain.
	* gtksourceview/gtksourcelanguage-parser-1.c (parseTag),
	gtksourceview/gtksourcelanguage-parser-2.c (parse_style):
	use it here.
	* gtksourceview/gtksourceview-i18n.h,
	gtksourceview/gtksourceview-i18n.c (_gtksourceview_dgettext):
	new function which does the actual job, and GD_() macro for it.

2007-05-27  Yevgen Muntyan  <muntyan@tamu.edu>

	* gtksourceview/language-specs/def.lang:
	* gtksourceview/language-specs/javascript.lang:
	* gtksourceview/language-specs/po.lang:
	* gtksourceview/language-specs/sql.lang:
	added FIXME comments where \n is used in patterns. Lame, indeed.

	* gtksourceview/gtksourcecontextengine.c: removed obsolete FIXME comment.
	* gtksourceview/language-specs/m4.lang: try to make sure parentheses not
	preceeded by identifier are not treated as function call.
	* gtksourceview/language-specs/gap.lang: added 'infinity' keyword.

	* gtksourceview/language-specs/kate.styles:
	* gtksourceview/language-specs/Makefile.am: "Kate" style scheme.

2007-05-26  Paolo Borelli  <pborelli@katamail.com>

	* configure.ac:
	* Makefile.am:
	* gtksourceview/Makefile.am:
	* gtksourceprintjob.[ch]:
	* tests/Makefile.am:

	Modernize build system a bit and remove all traces of gnome-print.

=== gtksourceview 1.90.0 ===

2007-05-26  Steve Frécinaux  <code@istique.net>

	* NEWS:
	* README:
	* configure.ac:

	GtkSourceView 1.90.0 released.

2007-05-26  Steve Frécinaux  <code@istique.net>

	* ChangeLog: fork off a new ChangeLog for the big merge of the
	soc-2006 branch.

	* ChangeLog.20070526: ChangeLog of trunk before the merge
	* ChangeLog.soc-2006: ChangeLog of soc-2006 before the merge
